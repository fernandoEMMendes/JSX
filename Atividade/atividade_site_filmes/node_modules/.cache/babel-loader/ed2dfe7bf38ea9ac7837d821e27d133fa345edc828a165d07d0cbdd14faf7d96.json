{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/fernando.emmendes/Documents/JSX/Atividade/atividade_site_filmes/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/fernando.emmendes/Documents/JSX/Atividade/atividade_site_filmes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/fernando.emmendes/Documents/JSX/Atividade/atividade_site_filmes/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import api from'../../Services/api';import'../../Componentes/css/detalhes.css';import moment from'moment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Detalhes(){var _useParams=useParams(),id=_useParams.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),filme=_useState2[0],setFilme=_useState2[1];useEffect(function(){function loadFilmeDetail(){return _loadFilmeDetail.apply(this,arguments);}function _loadFilmeDetail(){_loadFilmeDetail=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return api.get(\"/movie/\".concat(id),{params:{api_key:\"d7467b74ee29835a60176efafc99b899\",language:'pt-BR'}});case 2:response=_context.sent;setFilme(response.data);case 4:case\"end\":return _context.stop();}},_callee);}));return _loadFilmeDetail.apply(this,arguments);}loadFilmeDetail();},[id]);function Salvar(){var minhaLista=localStorage.getItem('@filmesfavoritos');var filmesSalvos=JSON.parse(minhaLista)||[];var verificarFilmes=filmesSalvos.some(function(filmeSalvo){return filmeSalvo.id===filme.id;});if(verificarFilmes){alert('Filme já está salvo!');return;}filmesSalvos.push(filme);localStorage.setItem('@filmesfavoritos',JSON.stringify(filmesSalvos));alert('Filme salvo!');}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h1detalhes\",children:filme.title}),/*#__PURE__*/_jsx(\"img\",{className:\"imgdetalhes\",src:\"https://image.tmdb.org/t/p/w300/\".concat(filme.poster_path),alt:filme.original_title}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{className:\"h3detalhes\",children:filme.overview}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h3\",{className:\"h3detalhes\",children:[\"Nota: \",Number(filme.vote_average).toFixed(1)]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h3\",{className:\"h3detalhes\",children:[\"Data de lan\\xE7amento:\",moment(new Date(\"\".concat(filme.release_date))).format('DD-MM-YYYY')]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:Salvar,children:\"Salvar Filme\"})]});}export default Detalhes;","map":{"version":3,"names":["useEffect","useState","useParams","Link","api","moment","jsx","_jsx","jsxs","_jsxs","Detalhes","_useParams","id","_useState","_useState2","_slicedToArray","filme","setFilme","loadFilmeDetail","_loadFilmeDetail","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","concat","params","api_key","language","sent","data","stop","Salvar","minhaLista","localStorage","getItem","filmesSalvos","JSON","parse","verificarFilmes","some","filmeSalvo","alert","push","setItem","stringify","children","className","title","src","poster_path","alt","original_title","overview","Number","vote_average","toFixed","Date","release_date","format","onClick"],"sources":["C:/Users/fernando.emmendes/Documents/JSX/Atividade/atividade_site_filmes/src/Pages/detalhes/index.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport api from '../../Services/api'\r\nimport '../../Componentes/css/detalhes.css'\r\nimport moment from 'moment'\r\n\r\n\r\nfunction Detalhes() {\r\n    const { id } = useParams()\r\n    const [filme, setFilme] = useState({})\r\n\r\n    useEffect(() => {\r\n        async function loadFilmeDetail() {\r\n            const response = await api.get(`/movie/${id}`, {\r\n                params: {\r\n                    api_key: \"d7467b74ee29835a60176efafc99b899\",\r\n                    language: 'pt-BR'\r\n                }\r\n            })\r\n            setFilme(response.data)\r\n        }\r\n        loadFilmeDetail()\r\n    }, [id])\r\n\r\n\r\n\r\n    function Salvar() {\r\n        const minhaLista = localStorage.getItem('@filmesfavoritos')\r\n        let filmesSalvos = JSON.parse(minhaLista) || []\r\n        const verificarFilmes = filmesSalvos.some((filmeSalvo) => filmeSalvo.id === filme.id)\r\n        if (verificarFilmes) {\r\n            alert('Filme já está salvo!')\r\n            return\r\n        }\r\n\r\n        filmesSalvos.push(filme)\r\n        localStorage.setItem('@filmesfavoritos', JSON.stringify(filmesSalvos))\r\n        alert('Filme salvo!')\r\n    }\r\n\r\n\r\n\r\n    return (\r\n\r\n        <div>\r\n            <h1 className='h1detalhes'>{filme.title}</h1>\r\n            <img className='imgdetalhes' src={`https://image.tmdb.org/t/p/w300/${filme.poster_path}`} alt={filme.original_title} /> <br />\r\n            <h3 className='h3detalhes'>{filme.overview}</h3><br />\r\n            <h3 className='h3detalhes'>Nota: {Number(filme.vote_average).toFixed(1)}</h3> <br />\r\n            <h3 className='h3detalhes'>Data de lançamento:{moment(new Date(`${filme.release_date}`)).format('DD-MM-YYYY')}</h3> <br /> <br />\r\n            <button onClick={Salvar}>Salvar Filme</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Detalhes"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}